-- MySQL Script generated by MySQL Workbench
-- Sun 03 Apr 2016 10:46:31 PM CEST
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema GramR
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema GramR
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `GramR` DEFAULT CHARACTER SET utf8 ;
USE `GramR` ;

-- -----------------------------------------------------
-- Table `GramR`.`Filter`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GramR`.`Filter` ;

CREATE TABLE IF NOT EXISTS `GramR`.`Filter` (
  `Naam` VARCHAR(50) NOT NULL,
  `cssClass` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Naam`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GramR`.`User`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GramR`.`User` ;

CREATE TABLE IF NOT EXISTS `GramR`.`User` (
  `Username` VARCHAR(50) NOT NULL,
  `Email` VARCHAR(100) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Username`))
ENGINE = InnoDB;

CREATE UNIQUE INDEX `Username_UNIQUE` ON `GramR`.`User` (`Username` ASC);


-- -----------------------------------------------------
-- Table `GramR`.`Photo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GramR`.`Photo` ;

CREATE TABLE IF NOT EXISTS `GramR`.`Photo` (
  `PhotoID` INT NOT NULL AUTO_INCREMENT,
  `creator` VARCHAR(50) NOT NULL,
  `url` VARCHAR(300) NOT NULL,
  `Filter_Naam` VARCHAR(50) NULL,
  `Description` VARCHAR(45) NULL,
  `title` VARCHAR(200) NOT NULL,
  PRIMARY KEY (`PhotoID`),
  CONSTRAINT `fk_Photo_Filter`
    FOREIGN KEY (`Filter_Naam`)
    REFERENCES `GramR`.`Filter` (`Naam`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Photo_User1`
    FOREIGN KEY (`creator`)
    REFERENCES `GramR`.`User` (`Username`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Photo_Filter_idx` ON `GramR`.`Photo` (`Filter_Naam` ASC);

CREATE INDEX `fk_Photo_User1_idx` ON `GramR`.`Photo` (`creator` ASC);


-- -----------------------------------------------------
-- Table `GramR`.`Set`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GramR`.`Set` ;

CREATE TABLE IF NOT EXISTS `GramR`.`Set` (
  `SetID` INT NOT NULL AUTO_INCREMENT,
  `Naam` VARCHAR(100) NOT NULL,
  `User_Username` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`SetID`, `Naam`, `User_Username`),
  CONSTRAINT `fk_Set_User1`
    FOREIGN KEY (`User_Username`)
    REFERENCES `GramR`.`User` (`Username`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Set_User1_idx` ON `GramR`.`Set` (`User_Username` ASC);


-- -----------------------------------------------------
-- Table `GramR`.`Photo_belongs_to_Set`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GramR`.`Photo_belongs_to_Set` ;

CREATE TABLE IF NOT EXISTS `GramR`.`Photo_belongs_to_Set` (
  `Photo_PhotoID` INT NOT NULL,
  `Set_SetID` INT NOT NULL,
  `isPrivate` TINYINT(1) NOT NULL DEFAULT 0,
  PRIMARY KEY (`Photo_PhotoID`, `Set_SetID`),
  CONSTRAINT `fk_Photo_has_Set_Photo1`
    FOREIGN KEY (`Photo_PhotoID`)
    REFERENCES `GramR`.`Photo` (`PhotoID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Photo_has_Set_Set1`
    FOREIGN KEY (`Set_SetID`)
    REFERENCES `GramR`.`Set` (`SetID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Photo_has_Set_Set1_idx` ON `GramR`.`Photo_belongs_to_Set` (`Set_SetID` ASC);

CREATE INDEX `fk_Photo_has_Set_Photo1_idx` ON `GramR`.`Photo_belongs_to_Set` (`Photo_PhotoID` ASC);


-- -----------------------------------------------------
-- Data for table `GramR`.`Filter`
-- -----------------------------------------------------
START TRANSACTION;
USE `GramR`;
INSERT INTO `GramR`.`Filter` (`Naam`, `cssClass`) VALUES ('Gray', 'gray');
INSERT INTO `GramR`.`Filter` (`Naam`, `cssClass`) VALUES ('Vintage', 'vintage');

COMMIT;


-- -----------------------------------------------------
-- Data for table `GramR`.`User`
-- -----------------------------------------------------
START TRANSACTION;
USE `GramR`;
INSERT INTO `GramR`.`User` (`Username`, `Email`, `password`) VALUES ('Mastermindzh', 'Rick@mi-soft.nl', '123456');
INSERT INTO `GramR`.`User` (`Username`, `Email`, `password`) VALUES ('Farcorner', 'janverhoeckx@gmail.com', '123456');
INSERT INTO `GramR`.`User` (`Username`, `Email`, `password`) VALUES ('JohnDoe', 'John@doe.nl', '123');

COMMIT;


-- -----------------------------------------------------
-- Data for table `GramR`.`Photo`
-- -----------------------------------------------------
START TRANSACTION;
USE `GramR`;
INSERT INTO `GramR`.`Photo` (`PhotoID`, `creator`, `url`, `Filter_Naam`, `Description`, `title`) VALUES (1, 'Mastermindzh', 'http://c2.staticflickr.com/3/2940/14024046946_aaa93234fe_n.jpg', NULL, 'Ons eddyke', 'Titel');
INSERT INTO `GramR`.`Photo` (`PhotoID`, `creator`, `url`, `Filter_Naam`, `Description`, `title`) VALUES (2, 'Farcorner', 'https://scontent-amt2-1.xx.fbcdn.net/hphotos-xpf1/v/t1.0-9/12734084_1132894656731330_543860488226509744_n.jpg?oh=c0c5a9254aeb0b16c681a146b6accb73&oe=5796F5C5', NULL, 'Ik aan het skiien. Grapje is mijn oom.', 'Titel');
INSERT INTO `GramR`.`Photo` (`PhotoID`, `creator`, `url`, `Filter_Naam`, `Description`, `title`) VALUES (3, 'Farcorner', 'https://scontent-amt2-1.xx.fbcdn.net/hphotos-xpf1/v/t1.0-9/12705667_1131913883496074_399809299253441503_n.jpg?oh=a1db223b8cbadbf621915264720d7e04&oe=579884B8', 'Gray', '50 shades of gray.', 'Titel');
INSERT INTO `GramR`.`Photo` (`PhotoID`, `creator`, `url`, `Filter_Naam`, `Description`, `title`) VALUES (4, 'Mastermindzh', 'http://c3.staticflickr.com/8/7244/14067202373_d49c18b5a7_z.jpg', 'Vintage', 'Eddy in black and yellow black and yellow.', 'Titel');
INSERT INTO `GramR`.`Photo` (`PhotoID`, `creator`, `url`, `Filter_Naam`, `Description`, `title`) VALUES (5, 'Mastermindzh', 'http://c1.staticflickr.com/3/2922/14067202323_3e05fe11fa_n.jpg', NULL, 'Hidden pictures are the best pictures', 'Titel');

COMMIT;


-- -----------------------------------------------------
-- Data for table `GramR`.`Set`
-- -----------------------------------------------------
START TRANSACTION;
USE `GramR`;
INSERT INTO `GramR`.`Set` (`SetID`, `Naam`, `User_Username`) VALUES (1, 'Mijn hondjes', 'Mastermindzh');
INSERT INTO `GramR`.`Set` (`SetID`, `Naam`, `User_Username`) VALUES (2, 'Ski foto\'s', 'Farcorner');

COMMIT;


-- -----------------------------------------------------
-- Data for table `GramR`.`Photo_belongs_to_Set`
-- -----------------------------------------------------
START TRANSACTION;
USE `GramR`;
INSERT INTO `GramR`.`Photo_belongs_to_Set` (`Photo_PhotoID`, `Set_SetID`, `isPrivate`) VALUES (1, 1, false);
INSERT INTO `GramR`.`Photo_belongs_to_Set` (`Photo_PhotoID`, `Set_SetID`, `isPrivate`) VALUES (2, 2, false);
INSERT INTO `GramR`.`Photo_belongs_to_Set` (`Photo_PhotoID`, `Set_SetID`, `isPrivate`) VALUES (3, 2, false);
INSERT INTO `GramR`.`Photo_belongs_to_Set` (`Photo_PhotoID`, `Set_SetID`, `isPrivate`) VALUES (4, 1, false);
INSERT INTO `GramR`.`Photo_belongs_to_Set` (`Photo_PhotoID`, `Set_SetID`, `isPrivate`) VALUES (5, 1, true);

COMMIT;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
